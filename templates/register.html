{% extends "layout.html" %}

{% block title %}
    Register
{% endblock %}

{% block main %}
    <form action="{{ url_for('register') }}" id="registration" method="post">
        <fieldset>
            <div class="form-group">
                <input autocomplete="off" autofocus class="form-control" name="name" placeholder="First and Last Name" type="text"/>
            </div>
            <div class="form-group">
                <input autocomplete="off" autofocus class="form-control" name="username" placeholder="E-mail" type="text"/>
            </div>
            <div class="form-group">
                <input class="form-control" name="password" placeholder="Password" type="password"/>
            </div>
            <div class="form-group">
                <input class="form-control" name="password_again" placeholder="Password (again)" type="password"/>
            </div>
            <div class="form-group">
                <button class="button" type="submit">Register</button>
            </div>
        </fieldset>
    </form>
    
          <!--Javascript Client-Side form validation-->
     <script>
            var form = document.getElementById('registration');
            form.onsubmit = function() {
                if (!form.name.value.match(/^[a-z\.]+ [a-z]+/i)) //regex expression ensuring that submitted name contains a first and last name
                {
                    alert('Please enter a valid name. (first and last)');
                    return false;
                }
                if(form.username.value == '')
                {
                    alert('Please enter an email address.');
                    return false;
                }
                if(form.password.value == '')
                {
                    alert('Please enter a password.');
                    return false;
                }
                if(form.password.value == '' || form.password.value != form.password_again.value)
                {
                    alert('Passwords do not match.');
                    return false;
                }
                return true;
            };
    </script>
{% endblock %}
